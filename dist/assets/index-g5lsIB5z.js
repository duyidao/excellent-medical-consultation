import{M as b}from"./MySvgIcon-JeTZ2tsq.js";import{r as W,s as K}from"./index-2TmI54FF.js";import{d as k,r as f,o as _,c as g,e as s,a as n,t as h,F as N,f as T,g as $,_ as L,h as w,w as i,i as M,n as P,j as U,k as q,u as F,l as O,m as A,p as Q,q as Y,s as V,v as j,b as H}from"./index-Imn3sEkB.js";const B="/assets/ad-GVbUr23F.png",R=e=>W("/patient/home/knowledge","GET",e),J=e=>W("/home/page/doc","GET",e),X={class:"knowledge-card van-hairline--bottom"},Z={class:"head"},x={class:"info"},ee={class:"name"},te={class:"dep van-ellipsis"},ne={class:"body"},se={class:"title van-ellipsis"},oe={class:"tag"},ae=["innerHTML"],ie={class:"imgs"},ce={class:"logs"},le=k({__name:"KnowledgeCard",props:{item:{}},setup(e){return(t,a)=>{const c=f("van-image");return _(),g("div",X,[s("div",Z,[n(c,{round:"",class:"avatar",src:t.item.creatorAvatar},null,8,["src"]),s("div",x,[s("p",ee,h(t.item.creatorName),1),s("p",te,h(t.item.creatorHospatalName)+" "+h(t.item.creatorDep)+" "+h(t.item.creatorTitles),1)])]),s("div",ne,[s("h3",se,h(t.item.title),1),s("p",oe,[(_(!0),g(N,null,T(t.item.topic.split(","),(o,d)=>(_(),g("span",{key:d},"# "+h(o),1))),128))]),s("p",{class:"intro van-multi-ellipsis--l2",innerHTML:t.item.content},null,8,ae),s("div",ie,[(_(!0),g(N,null,T(t.item.coverUrl,(o,d)=>(_(),$(c,{key:d,src:o},null,8,["src"]))),128))]),s("p",ce,[s("span",null,h(t.item.collectionNumber)+" 收藏",1),s("span",null,h(t.item.commentNumber)+" 评论",1)])])])}}}),re=L(le,[["__scopeId","data-v-c160e38c"]]),de={class:"knowledge-list"},E=k({__name:"KnowledgeList",props:{type:{}},setup(e){const a=w({type:e.type,current:1,pageSize:10}),c=w([]),o=w(!1),d=w(!1),l=async()=>{if(d.value)return K("当前已经是最后的数据");o.value=!0;const r=await R(a.value);c.value.push(...r.data.rows),a.value.current>=r.data.pageTotal?d.value=!0:a.value.current++,o.value=!1};return(r,u)=>{const p=f("van-list");return _(),g("div",de,[n(p,{loading:o.value,"onUpdate:loading":u[0]||(u[0]=m=>o.value=m),finished:d.value,"finished-text":"没有更多了",onLoad:l},{default:i(()=>[(_(!0),g(N,null,T(c.value,m=>(_(),$(re,{key:m.id,item:m},null,8,["item"]))),128))]),_:1},8,["loading","finished"])])}}}),ue={class:"doctor-card"},_e={class:"name"},pe={class:"van-ellipsis"},me=k({__name:"DoctorCard",props:{item:{}},setup(e){return(t,a)=>{const c=f("van-image");return _(),g("div",ue,[n(c,{round:"",src:t.item.avatar},null,8,["src"]),s("p",_e,h(t.item.name),1),s("p",pe,h(t.item.hospitalName)+" "+h(t.item.depName),1),s("p",null,h(t.item.positionalTitles),1)])}}}),fe=L(me,[["__scopeId","data-v-20fe9b2a"]]);function G(e){return U()?(q(e),!0):!1}function C(e){return typeof e=="function"?e():F(e)}const ve=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const he=Object.prototype.toString,ge=e=>he.call(e)==="[object Object]",we=()=>{};function ye(e){return e||O()}function be(e,t=!0,a){ye()?M(e,a):t?e():P(e)}function $e(e){var t;const a=C(e);return(t=a==null?void 0:a.$el)!=null?t:a}const D=ve?window:void 0;function ke(...e){let t,a,c,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([a,c,o]=e,t=D):[t,a,c,o]=e,!t)return we;Array.isArray(a)||(a=[a]),Array.isArray(c)||(c=[c]);const d=[],l=()=>{d.forEach(m=>m()),d.length=0},r=(m,y,S,I)=>(m.addEventListener(y,S,I),()=>m.removeEventListener(y,S,I)),u=A(()=>[$e(t),C(o)],([m,y])=>{if(l(),!m)return;const S=ge(y)?{...y}:y;d.push(...a.flatMap(I=>c.map(z=>r(m,I,z,S))))},{immediate:!0,flush:"post"}),p=()=>{u(),l()};return G(p),p}function Se(){const e=w(!1);return O()&&M(()=>{e.value=!0}),e}function Ie(e){const t=Se();return Y(()=>(t.value,!!e()))}function Ee(e,t={}){const{window:a=D}=t,c=Ie(()=>a&&"matchMedia"in a&&typeof a.matchMedia=="function");let o;const d=w(!1),l=p=>{d.value=p.matches},r=()=>{o&&("removeEventListener"in o?o.removeEventListener("change",l):o.removeListener(l))},u=Q(()=>{c.value&&(r(),o=a.matchMedia(C(e)),"addEventListener"in o?o.addEventListener("change",l):o.addListener(l),d.value=o.matches)});return G(()=>{u(),r(),o=void 0}),d}function Ne(e={}){const{window:t=D,initialWidth:a=Number.POSITIVE_INFINITY,initialHeight:c=Number.POSITIVE_INFINITY,listenOrientation:o=!0,includeScrollbar:d=!0}=e,l=w(a),r=w(c),u=()=>{t&&(d?(l.value=t.innerWidth,r.value=t.innerHeight):(l.value=t.document.documentElement.clientWidth,r.value=t.document.documentElement.clientHeight))};if(u(),be(u),ke("resize",u,{passive:!0}),o){const p=Ee("(orientation: portrait)");A(p,()=>u())}return{width:l,height:r}}const Te=e=>(V("data-v-8e75fd25"),e=e(),j(),e),Le={class:"follow-doctor"},Me=Te(()=>s("div",{className:"head"},[s("p",null,"推荐关注"),s("a",{href:"javascript:;"},[H(" 查看更多"),s("i",{class:"van-icon van-icon-arrow"})])],-1)),Ce={class:"body"},De=k({__name:"FollowDoctor",setup(e){const{width:t}=Ne(),a=w();return M(async()=>{const c=await J({current:1,pageSize:5});console.log(c),a.value=c.data.rows}),(c,o)=>{var u;const d=f("van-swipe-item"),l=f("van-swipe"),r=f("van-empty");return _(),g("div",Le,[Me,s("div",Ce,[(u=a.value)!=null&&u.length?(_(),$(l,{key:0,width:150/375*F(t),"show-indicators":!1,loop:!1},{default:i(()=>[(_(!0),g(N,null,T(a.value,p=>(_(),$(d,{key:p.id},{default:i(()=>[n(fe,{item:p},null,8,["item"])]),_:2},1024))),128))]),_:1},8,["width"])):(_(),$(r,{key:1,image:"error",description:"暂无数据"}))])])}}}),We=L(De,[["__scopeId","data-v-8e75fd25"]]),v=e=>(V("data-v-f30729bf"),e=e(),j(),e),Fe={class:"home-page"},Oe={class:"home-header"},Ae={class:"con"},Ve=v(()=>s("h1",null,"优医",-1)),je={class:"search"},He={class:"home-navs"},Be=v(()=>s("p",{class:"title"},"问医生",-1)),Ge=v(()=>s("p",{class:"desc"},"按科室查问医生",-1)),ze=v(()=>s("p",{class:"title"},"极速问诊",-1)),Ke=v(()=>s("p",{class:"desc"},"20s医生极速回复",-1)),Pe=v(()=>s("p",{class:"title"},"开药门诊",-1)),Ue=v(()=>s("p",{class:"desc"},"线上买药更方便",-1)),qe=v(()=>s("p",{class:"title"},"药品订单",-1)),Qe=v(()=>s("p",{class:"title"},"健康档案",-1)),Ye=v(()=>s("p",{class:"title"},"我的处方",-1)),Re=v(()=>s("p",{class:"title"},"疾病查询",-1)),Je={class:"home-banner"},Xe=v(()=>s("img",{src:B,alt:""},null,-1)),Ze=v(()=>s("img",{src:B,alt:""},null,-1)),xe=k({__name:"index",setup(e){const t=w(0);return(a,c)=>{const o=f("van-tab"),d=f("van-tabs"),l=f("router-link"),r=f("van-col"),u=f("van-row"),p=f("van-swipe-item"),m=f("van-swipe");return _(),g("div",Fe,[s("div",Oe,[s("div",Ae,[Ve,s("div",je,[n(b,{name:"home-search"}),H(" 搜一搜：疾病/症状/医生/健康知识 ")])])]),n(d,{shrink:"",sticky:"",active:t.value,"onUpdate:active":c[0]||(c[0]=y=>t.value=y)},{default:i(()=>[n(o,{title:"关注"},{default:i(()=>[n(We),n(E,{type:"like"})]),_:1}),n(o,{title:"推荐"},{default:i(()=>[n(E,{type:"recommend"})]),_:1}),n(o,{title:"减脂"},{default:i(()=>[n(E,{type:"fatReduction"})]),_:1}),n(o,{title:"饮食"},{default:i(()=>[n(E,{type:"food"})]),_:1})]),_:1},8,["active"]),s("div",He,[n(u,null,{default:i(()=>[n(r,{span:"8"},{default:i(()=>[n(l,{to:"/",class:"nav"},{default:i(()=>[n(b,{name:"home-doctor"}),Be,Ge]),_:1})]),_:1}),n(r,{span:"8"},{default:i(()=>[n(l,{to:"/consult/fast",class:"nav"},{default:i(()=>[n(b,{name:"home-graphic"}),ze,Ke]),_:1})]),_:1}),n(r,{span:"8"},{default:i(()=>[n(l,{to:"/",class:"nav"},{default:i(()=>[n(b,{name:"home-prescribe"}),Pe,Ue]),_:1})]),_:1})]),_:1}),n(u,null,{default:i(()=>[n(r,{span:"6"},{default:i(()=>[n(l,{to:"/",class:"nav min"},{default:i(()=>[n(b,{name:"home-order"}),qe]),_:1})]),_:1}),n(r,{span:"6"},{default:i(()=>[n(l,{to:"/",class:"nav min"},{default:i(()=>[n(b,{name:"home-docs"}),Qe]),_:1})]),_:1}),n(r,{span:"6"},{default:i(()=>[n(l,{to:"/",class:"nav min"},{default:i(()=>[n(b,{name:"home-rp"}),Ye]),_:1})]),_:1}),n(r,{span:"6"},{default:i(()=>[n(l,{to:"/",class:"nav min"},{default:i(()=>[n(b,{name:"home-find"}),Re]),_:1})]),_:1})]),_:1})]),s("div",Je,[n(m,{"indicator-color":"#fff"},{default:i(()=>[n(p,null,{default:i(()=>[Xe]),_:1}),n(p,null,{default:i(()=>[Ze]),_:1})]),_:1})])])}}}),st=L(xe,[["__scopeId","data-v-f30729bf"]]);export{st as default};
